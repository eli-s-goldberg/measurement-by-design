function Q(n){const a=document.createElement("template");return a.innerHTML=n,document.importNode(a.content,!0)}function ee(n){const a=document.createElementNS("http://www.w3.org/2000/svg","g");return a.innerHTML=n,a}const Ae=Object.assign(q(Q,n=>{if(n.firstChild===null)return null;if(n.firstChild===n.lastChild)return n.removeChild(n.firstChild);const a=document.createElement("span");return a.appendChild(n),a}),{fragment:q(Q,n=>n)}),Ne=Object.assign(q(ee,n=>n.firstChild===null?null:n.firstChild===n.lastChild?n.removeChild(n.firstChild):n),{fragment:q(ee,n=>{const a=document.createDocumentFragment();for(;n.firstChild;)a.appendChild(n.firstChild);return a})}),Le=9,Te=10,Se=12,Ue=13,Ee=32,Me=65,$e=90,Oe=97,Be=122,O=60,f=62,m=47,p=45,X=33,F=61,te=34,ne=39,Re=63,c=1,re=2,ae=3,I=4,B=5,w=6,W=7,R=8,H=9,Y=10,z=11,P=12,G=13,S=14,se=15,oe=16,b=17,ie=18,ce=19,le=20,fe=21,V=22,U=23,ue=24,de=25,k=26,pe=27,ke=28,ge=29,He=128,be=1,Pe=8,je=1,he="http://www.w3.org/2000/svg",y="http://www.w3.org/1999/xlink",me="http://www.w3.org/XML/1998/namespace",we="http://www.w3.org/2000/xmlns/",Ce=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(n=>[n.toLowerCase(),n])),j=new Map([["xlink:actuate",y],["xlink:arcrole",y],["xlink:href",y],["xlink:role",y],["xlink:show",y],["xlink:title",y],["xlink:type",y],["xml:lang",me],["xml:space",me],["xmlns",we],["xmlns:xlink",we]]);function q(n,a){return function({raw:u}){let e=c,l="",x,d,L,v,$=0;for(let s=0,g=arguments.length;s<g;++s){const o=u[s];if(s>0){const t=arguments[s];switch(e){case k:{if(t!=null){const i=`${t}`;if(xe(d))l+=i.replace(/[<]/g,N);else{if(new RegExp(`</${d}[\\s>/]`,"i").test(l.slice(-d.length-2)+i))throw new Error("unsafe raw text");l+=i}}break}case c:{t==null||(t instanceof Node||typeof t!="string"&&t[Symbol.iterator]||/(?:^|>)$/.test(u[s-1])&&/^(?:<|$)/.test(o)?(l+="<!--::"+s+"-->",$|=He):l+=`${t}`.replace(/[<&]/g,N));break}case H:{e=P;let i;if(/^[\s>]/.test(o)){if(t==null||t===!1){l=l.slice(0,L-u[s-1].length);break}if(t===!0||(i=`${t}`)==""){l+="''";break}if(u[s-1].slice(L,v)==="style"&&Z(t)||typeof t=="function"){l+="::"+s,$|=be;break}}if(i===void 0&&(i=`${t}`),i==="")throw new Error("unsafe unquoted empty string");l+=i.replace(/^['"]|[\s>&]/g,N);break}case P:{l+=`${t}`.replace(/[\s>&]/g,N);break}case z:{l+=`${t}`.replace(/['&]/g,N);break}case Y:{l+=`${t}`.replace(/["&]/g,N);break}case w:{if(Z(t)){l+="::"+s+"=''",$|=be;break}throw new Error("invalid binding")}case b:break;default:throw new Error("invalid binding")}}for(let t=0,i=o.length;t<i;++t){const r=o.charCodeAt(t);switch(e){case c:{r===O&&(e=re);break}case re:{r===X?e=de:r===m?e=ae:D(r)?(x=t,d=void 0,e=I,--t):r===Re?(e=B,--t):(e=c,--t);break}case ae:{D(r)?(e=I,--t):r===f?e=c:(e=B,--t);break}case I:{C(r)?(e=w,d=M(o,x,t)):r===m?e=S:r===f&&(d=M(o,x,t),e=E(d)?k:c);break}case w:{C(r)||(r===m||r===f?(e=W,--t):r===F?(e=R,L=t+1,v=void 0):(e=R,--t,L=t+1,v=void 0));break}case R:{C(r)||r===m||r===f?(e=W,--t,v=t):r===F&&(e=H,v=t);break}case W:{C(r)||(r===m?e=S:r===F?e=H:r===f?e=E(d)?k:c:(e=R,--t,L=t+1,v=void 0));break}case H:{C(r)||(r===te?e=Y:r===ne?e=z:r===f?e=E(d)?k:c:(e=P,--t));break}case Y:{r===te&&(e=G);break}case z:{r===ne&&(e=G);break}case P:{C(r)?e=w:r===f&&(e=E(d)?k:c);break}case G:{C(r)?e=w:r===m?e=S:r===f?e=E(d)?k:c:(e=w,--t);break}case S:{r===f?e=c:(e=w,--t);break}case B:{r===f&&(e=c);break}case se:{r===p?e=oe:r===f?e=c:(e=b,--t);break}case oe:{r===p?e=U:r===f?e=c:(e=b,--t);break}case b:{r===O?e=ie:r===p&&(e=V);break}case ie:{r===X?e=ce:r!==O&&(e=b,--t);break}case ce:{r===p?e=le:(e=b,--t);break}case le:{r===p?e=fe:(e=U,--t);break}case fe:{e=U,--t;break}case V:{r===p?e=U:(e=b,--t);break}case U:{r===f?e=c:r===X?e=ue:r!==p&&(e=b,--t);break}case ue:{r===p?e=V:r===f?e=c:(e=b,--t);break}case de:{r===p&&o.charCodeAt(t+1)===p?(e=se,++t):(e=B,--t);break}case k:{r===O&&(e=pe);break}case pe:{r===m?e=ke:(e=k,--t);break}case ke:{D(r)?(x=t,e=ge,--t):(e=k,--t);break}case ge:{C(r)&&d===M(o,x,t)?e=w:r===m&&d===M(o,x,t)?e=S:r===f&&d===M(o,x,t)?e=c:D(r)||(e=k,--t);break}default:{e=void 0;break}}}l+=o}const _=n(l),J=document.createTreeWalker(_,$,null,!1),K=[];for(;J.nextNode();){const s=J.currentNode;switch(s.nodeType){case je:{const g=s.attributes;for(let o=0,t=g.length;o<t;++o){const{name:i,value:r}=g[o];if(/^::/.test(i)){const A=arguments[+i.slice(2)];ye(s,i),--o,--t;for(const T in A){const h=A[T];h==null||h===!1||(typeof h=="function"?s[T]=h:T==="style"&&Z(h)?ve(s[T],h):qe(s,T,h===!0?"":h))}}else if(/^::/.test(r)){const A=arguments[+r.slice(2)];ye(s,i),--o,--t,typeof A=="function"?s[i]=A:ve(s[i],A)}}break}case Pe:{if(/^::/.test(s.data)){const g=s.parentNode,o=arguments[+s.data.slice(2)];if(o instanceof Node)g.insertBefore(o,s);else if(typeof o!="string"&&o[Symbol.iterator])if(o instanceof NodeList||o instanceof HTMLCollection)for(let t=o.length-1,i=s;t>=0;--t)i=g.insertBefore(o[t],i);else for(const t of o)t!=null&&g.insertBefore(t instanceof Node?t:document.createTextNode(t),s);else g.insertBefore(document.createTextNode(o),s);K.push(s)}break}}}for(const s of K)s.parentNode.removeChild(s);return a(_)}}function N(n){return`&#${n.charCodeAt(0).toString()};`}function D(n){return Me<=n&&n<=$e||Oe<=n&&n<=Be}function C(n){return n===Le||n===Te||n===Se||n===Ee||n===Ue}function Z(n){return n&&n.toString===Object.prototype.toString}function E(n){return n==="script"||n==="style"||xe(n)}function xe(n){return n==="textarea"||n==="title"}function M(n,a,u){return n.slice(a,u).toLowerCase()}function qe(n,a,u){if(n.namespaceURI===he&&(a=a.toLowerCase(),a=Ce.get(a)||a,j.has(a))){n.setAttributeNS(j.get(a),a,u);return}n.setAttribute(a,u)}function ye(n,a){if(n.namespaceURI===he&&(a=a.toLowerCase(),a=Ce.get(a)||a,j.has(a))){n.removeAttributeNS(j.get(a),a);return}n.removeAttribute(a)}function ve(n,a){for(const u in a){const e=a[u];u.startsWith("--")?n.setProperty(u,e):n[u]=e}}export{Ae as html,Ne as svg};
